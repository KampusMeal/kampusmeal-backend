{
  "info": {
    "_postman_id": "kampus-meal-collection",
    "name": "Kampus Meal API",
    "description": "API Collection untuk Kampus Meal Backend\n\n## 3 Role System:\n- **User** (Pembeli) - Browse & search stalls\n- **Admin** (Tim Dev) - Register stall owners\n- **Stall Owner** (Pemilik Warung) - Manage their stall\n\n## Testing Flow:\n1. Register Admin → Login Admin\n2. Admin Register Stall Owner (creates user + stall)\n3. Stall Owner Login → Manage stall (seamless, no ID!)\n4. User Register → Login → Browse stalls\n\n## Order Status Flow (Updated):\n1. **waiting_confirmation** - User upload bukti bayar, nunggu owner validasi\n2. **processing** - Owner approve, pesanan sedang dibuat\n3. **ready** - Pesanan jadi, siap diambil/dikirim\n4. **completed** - Pesanan sudah diambil/diterima user\n5. **rejected** - Pembayaran ditolak owner",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "User Endpoints",
      "description": "Endpoints untuk User Biasa (Pembeli)",
      "item": [
        {
          "name": "Auth",
          "item": [
            {
              "name": "Register User",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"{{user_username}}\",\n  \"email\": \"{{user_email}}\",\n  \"password\": \"{{user_password}}\",\n  \"confirmPassword\": \"{{user_password}}\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/register",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "register"]
                },
                "description": "Register user baru dengan role 'user' (pembeli)."
              },
              "response": []
            },
            {
              "name": "Login User",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "if (jsonData.success && jsonData.data && jsonData.data.token) {",
                      "    pm.environment.set(\"user_token\", jsonData.data.token);",
                      "    console.log(\"User token saved\");",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"identifier\": \"{{user_email}}\",\n  \"password\": \"{{user_password}}\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/login",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "login"]
                },
                "description": "Login sebagai user. Token auto-saved ke `{{user_token}}`"
              },
              "response": []
            },
            {
              "name": "Logout User",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/auth/logout",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "logout"]
                }
              },
              "response": []
            },
            {
              "name": "Check Authentication",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/auth/check",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "check"]
                },
                "description": "**GET /auth/check - Check Authentication**\\n\\nSimple endpoint untuk cek apakah user masih authenticated atau tidak.\\n\\n**Response jika token valid (200 OK):**\\n```json\\n{\\n  \\\"success\\\": true,\\n  \\\"statusCode\\\": 200,\\n  \\\"message\\\": \\\"Authenticated\\\",\\n  \\\"data\\\": {\\n    \\\"authenticated\\\": true\\n  }\\n}\\n```\\n\\n**Response jika token invalid (401 Unauthorized):**\\n```json\\n{\\n  \\\"success\\\": false,\\n  \\\"statusCode\\\": 401,\\n  \\\"message\\\": \\\"Token invalid atau expired\\\"\\n}\\n```\\n\\n**Use Case:**\\n- Cek token masih valid sebelum request lain\\n- Auto-logout jika token expired\\n- Validasi session di frontend\\n\\n**Note:** Endpoint ini tidak mengembalikan data user, hanya status authenticated. Gunakan GET /auth/me untuk data lengkap user."
              },
              "response": []
            },
            {
              "name": "Get My Profile",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/auth/me",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "me"]
                },
                "description": "**GET /auth/me - Get Current User Profile**\\n\\n**Response:**\\n```json\\n{\\n  \\\"uid\\\": \\\"...\\\",\\n  \\\"email\\\": \\\"user@example.com\\\",\\n  \\\"username\\\": \\\"johndoe\\\",\\n  \\\"profileImageUrl\\\": \\\"https://...\\\",\\n  \\\"role\\\": \\\"user\\\",\\n  \\\"namaAlamat\\\": \\\"Rumah\\\",\\n  \\\"detilAlamat\\\": \\\"Jl. Sudirman No. 123, Jakarta\\\"\\n}\\n```\\n\\n**Note:** Fields `namaAlamat` dan `detilAlamat` bisa `null` jika user belum set alamat."
              },
              "response": []
            },
            {
              "name": "Update Profile",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "username",
                      "value": "johndoe_updated",
                      "description": "Update username (OPTIONAL, 3-30 chars, alphanumeric + underscore)",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "profileImage",
                      "description": "Upload profile picture (OPTIONAL, max 5MB, JPG/PNG/WebP)",
                      "type": "file",
                      "src": [],
                      "disabled": true
                    },
                    {
                      "key": "oldPassword",
                      "value": "{{user_password}}",
                      "description": "Old password for verification (REQUIRED if changing password)",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "newPassword",
                      "value": "newpassword123",
                      "description": "New password (REQUIRED if changing password, min 8 chars)",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "confirmPassword",
                      "value": "newpassword123",
                      "description": "Confirm new password (REQUIRED if changing password)",
                      "type": "text",
                      "disabled": true
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/auth/profile",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "profile"]
                },
                "description": "**PATCH /auth/profile - Update Profile (All-in-One)**\\n\\n**All-in-One Update:** Username, Profile Picture, dan Password dalam satu endpoint.\\n\\n**Body (multipart/form-data):**\\n- `username` (OPTIONAL): Edit username (3-30 chars, alphanumeric + underscore)\\n- `profileImage` (OPTIONAL): Upload/ganti foto profile (max 5MB, JPG/PNG/WebP)\\n- `oldPassword` (OPTIONAL): Password lama untuk verifikasi\\n- `newPassword` (OPTIONAL): Password baru (min 8 chars)\\n- `confirmPassword` (OPTIONAL): Konfirmasi password baru\\n\\n**Rules:**\\n- At least ONE field must be provided\\n- If changing password: `oldPassword`, `newPassword`, and `confirmPassword` are ALL REQUIRED\\n- New password must be different from old password\\n- Auto-delete old profile image when uploading new one\\n\\n**Use Cases:**\\n1. Update username only → Enable `username` field\\n2. Update profile image only → Enable `profileImage` field\\n3. Change password only → Enable all 3 password fields\\n4. Update multiple → Enable any combination\\n\\n**Response:**\\n```json\\n{\\n  \\\"uid\\\": \\\"...\\\",\\n  \\\"email\\\": \\\"user@example.com\\\",\\n  \\\"username\\\": \\\"johndoe_updated\\\",\\n  \\\"profileImageUrl\\\": \\\"https://...\\\",\\n  \\\"role\\\": \\\"user\\\"\\n}\\n```\\n\\n**Note:** User tetap logged in setelah ganti password (no forced re-login)."
              },
              "response": []
            },
            {
              "name": "Update Address",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\\n  \\\"namaAlamat\\\": \\\"Rumah\\\",\\n  \\\"detilAlamat\\\": \\\"Jl. Sudirman No. 123, Jakarta Pusat, DKI Jakarta 10110\\\"\\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/address",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "address"]
                },
                "description": "**PATCH /auth/address - Update User Address**\\n\\n**Body (application/json):**\\n- `namaAlamat` (OPTIONAL): Nama alamat (min 3, max 50 chars)\\n  - Contoh: \\\"Rumah\\\", \\\"Kos\\\", \\\"Kantor\\\"\\n- `detilAlamat` (OPTIONAL): Detail alamat lengkap (min 10, max 500 chars)\\n  - Contoh: \\\"Jl. Sudirman No. 123, Jakarta\\\"\\n\\n**Rules:**\\n- Jika salah satu field diisi, KEDUANYA harus diisi\\n- Bisa kosongkan keduanya untuk hapus alamat\\n- Update bersifat upsert (create if not exists, update if exists)\\n\\n**Use Cases:**\\n1. Set alamat pertama kali\\n2. Update alamat yang sudah ada\\n3. Clear alamat (kirim kedua field kosong)\\n\\n**Response:**\\n```json\\n{\\n  \\\"uid\\\": \\\"...\\\",\\n  \\\"email\\\": \\\"user@example.com\\\",\\n  \\\"username\\\": \\\"johndoe\\\",\\n  \\\"profileImageUrl\\\": \\\"https://...\\\",\\n  \\\"role\\\": \\\"user\\\",\\n  \\\"namaAlamat\\\": \\\"Rumah\\\",\\n  \\\"detilAlamat\\\": \\\"Jl. Sudirman No. 123, Jakarta\\\"\\n}\\n```\\n\\n**Note:** Alamat disimpan di Firestore collection `user_profiles`."
              },
              "response": []
            }
          ]
        },
        {
          "name": "Browse Stalls",
          "item": [
            {
              "name": "Get All Stalls",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls?page=1&limit=10&sortBy=rating&sortOrder=desc",
                  "host": ["{{base_url}}"],
                  "path": ["stalls"],
                  "query": [
                    {
                      "key": "search",
                      "value": "{{search_keyword}}",
                      "disabled": true
                    },
                    {
                      "key": "category",
                      "value": "Indonesian Food",
                      "disabled": true
                    },
                    {
                      "key": "minRating",
                      "value": "4.0",
                      "disabled": true
                    },
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "sortBy",
                      "value": "rating"
                    },
                    {
                      "key": "sortOrder",
                      "value": "desc"
                    }
                  ]
                },
                "description": "**GET /stalls - Listing Warung dengan Pagination**\n\n**Query Parameters:**\n- `search` (optional): Keyword pencarian berdasarkan nama warung\n- `category` (optional): Filter berdasarkan kategori (Indonesian Food, Fast Food, Beverages, dll)\n- `minRating` (optional): Filter minimal rating (0-5)\n- `page` (default: 1): Halaman ke berapa\n- `limit` (default: 10): Jumlah item per halaman\n- `sortBy` (default: rating): Field untuk sorting (rating, name, createdAt)\n- `sortOrder` (default: desc): Urutan sorting (asc/desc)\n\n**Response Structure:**\n```json\n{\n  \"data\": [\n    {\n      \"id\": \"string\",\n      \"name\": \"string\",\n      \"description\": \"string\",\n      \"imageUrl\": \"string\",\n      \"category\": \"string\",\n      \"rating\": number,\n      \"totalReviews\": number\n    }\n  ],\n  \"meta\": {\n    \"total\": number,\n    \"page\": number,\n    \"limit\": number,\n    \"totalPages\": number\n  }\n}\n```\n\n**Note:** Response TIDAK include `ownerId`, `createdAt`, `updatedAt` untuk privacy dan simplicity."
              },
              "response": []
            },
            {
              "name": "Get Stall Detail",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls/{{stall_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "{{stall_id}}"]
                },
                "description": "**GET /stalls/:id - Detail Warung**\n\n**Parameter:**\n- `:id` (path param): ID warung yang ingin dilihat\n\n**Response Structure:**\n```json\n{\n  \"data\": {\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"description\": \"string\",\n    \"category\": \"string\",\n    \"rating\": number,\n    \"totalReviews\": number,\n    \"menuItems\": [...]\n  }\n}\n```\n\n**Note:**\n- `menuItems` berisi daftar menu lengkap\n- QRIS untuk pembayaran tidak ada di endpoint ini, ambil dari GET /cart saat checkout"
              },
              "response": []
            },
            {
              "name": "Search Stalls",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls?search={{search_keyword}}",
                  "host": ["{{base_url}}"],
                  "path": ["stalls"],
                  "query": [
                    {
                      "key": "search",
                      "value": "{{search_keyword}}"
                    }
                  ]
                },
                "description": "**GET /stalls?search=keyword - Search Warung**\n\n**Query Parameter:**\n- `search`: Keyword pencarian (case-insensitive, search di nama warung)\n\n**Contoh:**\n- `?search=siti` → cari warung dengan nama mengandung \"siti\"\n- `?search=nasi` → cari warung dengan nama mengandung \"nasi\"\n\n**Note:**\n- Search dilakukan client-side (Firestore limitation)\n- Bisa kombinasikan dengan filter lain (category, minRating, dll)\n- Response structure sama dengan GET /stalls (listing)"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Shopping Cart",
          "item": [
            {
              "name": "Add to Cart",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"menuItemId\": \"{{menu_item_id}}\",\n  \"quantity\": 1\n}"
                },
                "url": {
                  "raw": "{{base_url}}/cart/items",
                  "host": ["{{base_url}}"],
                  "path": ["cart", "items"]
                },
                "description": "**POST /cart/items - Add Item to Cart**\\n\\n**Body:**\\n- `menuItemId`: UUID dari menu item (required)\\n- `quantity`: Jumlah item (1-99, default: 1)\\n\\n**Single-Stall Policy:**\\nJika cart sudah ada items dari warung lain, akan error dengan pesan:\\n\\\"Cart Anda sudah berisi menu dari [Warung X]. Selesaikan order dulu atau hapus cart.\\\"\\n\\n**Auto Behavior:**\\n- Jika item sudah ada di cart → increment quantity\\n- Jika item baru → add to cart\\n- Auto calculate subtotal & totalPrice"
              },
              "response": []
            },
            {
              "name": "Get My Cart",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/cart",
                  "host": ["{{base_url}}"],
                  "path": ["cart"]
                },
                "description": "**GET /cart - Get My Cart**\\n\\nGet cart dengan semua items + QRIS pembayaran.\\n\\n**Response jika cart ada:**\\n```json\\n{\\n  \\\"userId\\\": \\\"...\\\",\\n  \\\"stallId\\\": \\\"...\\\",\\n  \\\"stallName\\\": \\\"Warung Bu Siti\\\",\\n  \\\"qris\\\": \\\"https://...\\\",\\n  \\\"items\\\": [\\n    {\\n      \\\"menuItemId\\\": \\\"...\\\",\\n      \\\"name\\\": \\\"Nasi Goreng\\\",\\n      \\\"price\\\": 15000,\\n      \\\"imageUrl\\\": \\\"...\\\",\\n      \\\"quantity\\\": 2,\\n      \\\"subtotal\\\": 30000\\n    }\\n  ],\\n  \\\"totalPrice\\\": 30000\\n}\\n```\\n\\n**Response jika cart kosong:** `null`\\n\\n**Note:** Field `qris` berisi URL gambar QRIS dari warung untuk pembayaran"
              },
              "response": []
            },
            {
              "name": "Update Item Quantity",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"quantity\": 3\n}"
                },
                "url": {
                  "raw": "{{base_url}}/cart/items/{{menu_item_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["cart", "items", "{{menu_item_id}}"]
                },
                "description": "**PATCH /cart/items/:menuItemId - Update Quantity**\\n\\n**Body:**\\n- `quantity`: Quantity baru (1-99)\\n\\n**Auto calculate:** subtotal & totalPrice akan di-recalculate otomatis"
              },
              "response": []
            },
            {
              "name": "Remove Item from Cart",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/cart/items/{{menu_item_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["cart", "items", "{{menu_item_id}}"]
                },
                "description": "**DELETE /cart/items/:menuItemId - Remove Item**\\n\\nHapus item dari cart.\\n\\n**Auto behavior:**\\nJika items menjadi kosong setelah remove, cart document akan dihapus otomatis."
              },
              "response": []
            },
            {
              "name": "Clear Cart",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/cart",
                  "host": ["{{base_url}}"],
                  "path": ["cart"]
                },
                "description": "**DELETE /cart - Clear Cart**\\n\\nHapus seluruh cart dengan semua items.\\n\\n**Use case:** User batalkan order atau mau ganti warung"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Orders & Payment",
          "item": [
            {
              "name": "Checkout",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "if (jsonData.success && jsonData.data && jsonData.data.id) {",
                      "    pm.environment.set(\"order_id\", jsonData.data.id);",
                      "    console.log(\"Order ID saved: \" + jsonData.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "deliveryMethod",
                      "value": "pickup",
                      "description": "pickup atau delivery",
                      "type": "text"
                    },
                    {
                      "key": "proof",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/orders/checkout",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "checkout"]
                },
                "description": "**POST /orders/checkout - Checkout & Upload Bukti**\\n\\n**Flow:**\\n1. User pilih metode pengambilan (pickup/delivery)\\n2. User upload bukti pembayaran\\n3. Backend calculate fees:\\n   - Items total: dari cart\\n   - App fee: Rp 1.000 (fixed)\\n   - Delivery fee: Rp 5.000 (jika delivery), Rp 0 (jika pickup)\\n   - Total: itemsTotal + appFee + deliveryFee\\n4. Create order dengan status `waiting_confirmation`\\n5. Clear cart otomatis\\n\\n**Body:**\\n- `deliveryMethod`: \\\"pickup\\\" atau \\\"delivery\\\" (Required)\\n- `proof`: File gambar bukti transfer (Required)\\n\\n**Response:**\\n```json\\n{\\n  \\\"id\\\": \\\"...\\\",\\n  \\\"username\\\": \\\"johndoe\\\",\\n  \\\"stallId\\\": \\\"...\\\",\\n  \\\"stallName\\\": \\\"Warung Bu Siti\\\",\\n  \\\"stallImageUrl\\\": \\\"https://...\\\",\\n  \\\"items\\\": [\\n    {\\n      \\\"menuItemId\\\": \\\"...\\\",\\n      \\\"name\\\": \\\"Nasi Goreng Special\\\",\\n      \\\"price\\\": 15000,\\n      \\\"imageUrl\\\": \\\"https://...\\\",\\n      \\\"quantity\\\": 1,\\n      \\\"subtotal\\\": 15000\\n    }\\n  ],\\n  \\\"itemsTotal\\\": 15000,\\n  \\\"appFee\\\": 1000,\\n  \\\"deliveryMethod\\\": \\\"delivery\\\",\\n  \\\"deliveryFee\\\": 5000,\\n  \\\"totalPrice\\\": 21000,\\n  \\\"paymentProofUrl\\\": \\\"https://...\\\",\\n  \\\"status\\\": \\\"waiting_confirmation\\\",\\n  \\\"rejectionReason\\\": null,\\n  \\\"isReviewed\\\": false,\\n  \\\"createdAt\\\": \\\"2025-12-10T05:01:39.065Z\\\",\\n  \\\"updatedAt\\\": \\\"2025-12-10T05:01:39.065Z\\\"\\n}\\n```\\n\\n**Note:** Field `username` adalah snapshot dari username user saat checkout (tidak berubah walaupun user ganti username nanti)."
              },
              "response": []
            },
            {
              "name": "Re-upload Payment Proof (Revisi)",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "proof",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/orders/{{order_id}}/upload-proof",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "{{order_id}}", "upload-proof"]
                },
                "description": "**PATCH /orders/:orderId/upload-proof - Revisi Bukti Transfer**\\n\\n**Use Case:**\\nJika order ditolak (`REJECTED`) oleh penjual karena bukti buram/salah, user bisa upload ulang bukti di sini.\\n\\n**Rules:**\\n- Hanya order dengan status `REJECTED` yang bisa upload ulang\\n- Status akan kembali jadi `waiting_confirmation`"
              },
              "response": []
            },
            {
              "name": "Get My Orders",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders?page=1&limit=10",
                  "host": ["{{base_url}}"],
                  "path": ["orders"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "status",
                      "value": "completed",
                      "disabled": true
                    }
                  ]
                },
                "description": "**GET /orders - List My Orders (History)**\\n\\n**Query Parameters:**\\n- `status` (optional): Filter by status\\n  - `pending_payment` - Menunggu pembayaran\\n  - `waiting_confirmation` - Menunggu konfirmasi penjual\\n  - `processing` - Pesanan sedang dibuat\\n  - `ready` - Pesanan siap diambil/dikirim\\n  - `rejected` - Ditolak\\n  - `completed` - Selesai\\n- `page` (default: 1): Page number\\n- `limit` (default: 10, max: 100): Items per page\\n\\n**Use Cases:**\\n- History lengkap: no filter\\n- History selesai: `?status=completed`\\n- Order ditolak: `?status=rejected`\\n- Pending payment: `?status=pending_payment`\\n\\n**Response (Simplified List):**\\nSimplified order list dengan:\\n- orderId, orderDate\\n- stallName, stallImageUrl\\n- menuItems: [\\\"Nasi Goreng (2x)\\\", \\\"Es Teh (1x)\\\"]\\n- totalPrice\\n- status (backend value)\\n- statusDisplay (human-readable: \\\"Diproses\\\", \\\"Dikirim\\\", \\\"Siap Diambil\\\", dll)\\n\\n**Note:** Detail order endpoint masih return full data."
              },
              "response": []
            },
            {
              "name": "Get Order Detail",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders/{{order_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "{{order_id}}"]
                },
                "description": "**GET /orders/:orderId - Detail Order**\\n\\nGet detail order termasuk:\\n- Username pembeli (snapshot)\\n- Items snapshot (nama, harga saat checkout)\\n- Payment proof URL\\n- Status terkini\\n- Rejection reason (jika ditolak)\\n\\n**Response:**\\n```json\\n{\\n  \\\"id\\\": \\\"...\\\",\\n  \\\"username\\\": \\\"johndoe\\\",\\n  \\\"stallId\\\": \\\"...\\\",\\n  \\\"stallName\\\": \\\"Warung Bu Siti\\\",\\n  \\\"stallImageUrl\\\": \\\"https://...\\\",\\n  \\\"items\\\": [\\n    {\\n      \\\"menuItemId\\\": \\\"...\\\",\\n      \\\"name\\\": \\\"Nasi Goreng Special\\\",\\n      \\\"price\\\": 15000,\\n      \\\"imageUrl\\\": \\\"https://...\\\",\\n      \\\"quantity\\\": 1,\\n      \\\"subtotal\\\": 15000\\n    }\\n  ],\\n  \\\"itemsTotal\\\": 15000,\\n  \\\"appFee\\\": 1000,\\n  \\\"deliveryMethod\\\": \\\"delivery\\\",\\n  \\\"deliveryFee\\\": 5000,\\n  \\\"totalPrice\\\": 21000,\\n  \\\"paymentProofUrl\\\": \\\"https://...\\\",\\n  \\\"status\\\": \\\"completed\\\",\\n  \\\"rejectionReason\\\": null,\\n  \\\"isReviewed\\\": true,\\n  \\\"createdAt\\\": \\\"2025-12-10T05:01:39.065Z\\\",\\n  \\\"updatedAt\\\": \\\"2025-12-10T09:26:58.782Z\\\"\\n}\\n```\\n\\n**Use Case:**\\nCek status order, lihat alasan penolakan, download bukti pembayaran"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Reviews",
          "item": [
            {
              "name": "Submit Review",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "rating",
                      "value": "5",
                      "description": "Rating 1-5 (REQUIRED)",
                      "type": "text"
                    },
                    {
                      "key": "comment",
                      "value": "Enak banget! Porsi besar dan harga terjangkau",
                      "description": "Komentar review (OPTIONAL)",
                      "type": "text"
                    },
                    {
                      "key": "tags",
                      "value": "[\"Enak Banget\",\"Porsi Besar\",\"Harga Terjangkau\"]",
                      "description": "JSON array of tags, max 5 (OPTIONAL)",
                      "type": "text"
                    },
                    {
                      "key": "images",
                      "description": "Max 5 photos, each max 5MB (OPTIONAL)",
                      "type": "file",
                      "src": []
                    },
                    {
                      "key": "images",
                      "description": "Photo 2 (OPTIONAL)",
                      "type": "file",
                      "src": [],
                      "disabled": true
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/orders/{{order_id}}/review",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "{{order_id}}", "review"]
                },
                "description": "**POST /orders/:orderId/review - Submit Review**\\n\\n**Requirements:**\\n- Order harus berstatus `completed`\\n- Order belum pernah direview\\n\\n**Body (multipart/form-data):**\\n- `rating` (REQUIRED): 1-5\\n- `comment` (OPTIONAL): Text review\\n- `tags` (OPTIONAL): JSON array of tags, max 5\\n  - Available tags: \\\"Enak Banget\\\", \\\"Porsi Besar\\\", \\\"Harga Terjangkau\\\", \\\"Cepat Disajikan\\\", \\\"Bersih & Higienis\\\", \\\"Pelayanan Ramah\\\", \\\"Bumbu Pas\\\", \\\"Masih Hangat\\\", \\\"Bahan Segar\\\", \\\"Lokasi Strategis\\\", \\\"Lama Penyajian\\\", \\\"Agak Mahal\\\", \\\"Porsi Kecil\\\", \\\"Kurang Bumbu\\\", \\\"Sudah Dingin\\\", \\\"Kurang Higienis\\\"\\n- `images` (OPTIONAL): Max 5 photos, each max 5MB, format: JPG/PNG/WebP\\n\\n**Auto Effects:**\\n- Order marked as `isReviewed: true`\\n- Stall rating & totalReviews updated automatically\\n\\n**Response:**\\nCreated review dengan semua fields"
              },
              "response": []
            },
            {
              "name": "Get My Reviews",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/reviews/my-reviews?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
                  "host": ["{{base_url}}"],
                  "path": ["reviews", "my-reviews"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "sortBy",
                      "value": "createdAt",
                      "description": "createdAt or rating"
                    },
                    {
                      "key": "sortOrder",
                      "value": "desc",
                      "description": "asc or desc"
                    }
                  ]
                },
                "description": "**GET /reviews/my-reviews - Get My Reviews**\\n\\n**Query Parameters:**\\n- `page` (default: 1): Page number\\n- `limit` (default: 10, max: 100): Items per page\\n- `sortBy` (default: createdAt): Sort field (createdAt, rating)\\n- `sortOrder` (default: desc): Sort order (asc, desc)\\n\\n**Response:**\\nList of reviews dengan pagination meta"
              },
              "response": []
            },
            {
              "name": "Get Stall Reviews (Public)",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/reviews/stall/{{stall_id}}?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
                  "host": ["{{base_url}}"],
                  "path": ["reviews", "stall", "{{stall_id}}"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "rating",
                      "value": "5",
                      "description": "Filter by rating (1-5)",
                      "disabled": true
                    },
                    {
                      "key": "sortBy",
                      "value": "createdAt",
                      "description": "createdAt or rating"
                    },
                    {
                      "key": "sortOrder",
                      "value": "desc",
                      "description": "asc or desc"
                    }
                  ]
                },
                "description": "**GET /reviews/stall/:stallId - Get Reviews for a Stall (Public)**\\n\\n**PUBLIC ENDPOINT** - No auth required\\n\\n**Query Parameters:**\\n- `rating` (optional): Filter by rating (1-5)\\n- `page` (default: 1): Page number\\n- `limit` (default: 10, max: 100): Items per page\\n- `sortBy` (default: createdAt): Sort field (createdAt, rating)\\n- `sortOrder` (default: desc): Sort order (asc, desc)\\n\\n**Use Case:**\\nDisplay reviews on stall detail page\\n\\n**Response:**\\nList of reviews dengan pagination meta"
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Admin Endpoints",
      "description": "Endpoints untuk Admin Sistem (Tim Pengembang)",
      "item": [
        {
          "name": "Auth",
          "item": [
            {
              "name": "Register Admin",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"{{admin_username}}\",\n  \"email\": \"{{admin_email}}\",\n  \"password\": \"{{admin_password}}\",\n  \"confirmPassword\": \"{{admin_password}}\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/register-admin",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "register-admin"]
                },
                "description": "Register admin sistem (tim dev). **INTERNAL USE ONLY!**"
              },
              "response": []
            },
            {
              "name": "Login Admin",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "if (jsonData.success && jsonData.data && jsonData.data.token) {",
                      "    pm.environment.set(\"admin_token\", jsonData.data.token);",
                      "    console.log(\"Admin token saved\");",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"identifier\": \"{{admin_email}}\",\n  \"password\": \"{{admin_password}}\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/login",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "login"]
                },
                "description": "Login sebagai admin. Token auto-saved ke `{{admin_token}}`"
              },
              "response": []
            },
            {
              "name": "Logout Admin",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/auth/logout",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "logout"]
                },
                "description": "Logout sebagai admin dan revoke semua refresh tokens."
              },
              "response": []
            }
          ]
        },
        {
          "name": "Stall Owner Management",
          "item": [
            {
              "name": "Register Stall Owner + Create Stall",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "if (jsonData.success && jsonData.data) {",
                      "    if (jsonData.data.stall && jsonData.data.stall.id) {",
                      "        pm.environment.set(\"stall_id\", jsonData.data.stall.id);",
                      "        console.log(\"Stall ID saved: \" + jsonData.data.stall.id);",
                      "    }",
                      "    if (jsonData.data.user) {",
                      "        console.log(\"Stall owner created:\");",
                      "        console.log(\"Username: \" + jsonData.data.user.username);",
                      "        console.log(\"Email: \" + jsonData.data.user.email);",
                      "    }",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "username",
                      "value": "{{owner_username}}",
                      "type": "text",
                      "description": "Username pemilik warung"
                    },
                    {
                      "key": "email",
                      "value": "{{owner_email}}",
                      "type": "text",
                      "description": "Email pemilik warung"
                    },
                    {
                      "key": "password",
                      "value": "{{owner_password}}",
                      "type": "text",
                      "description": "Password pemilik warung"
                    },
                    {
                      "key": "confirmPassword",
                      "value": "{{owner_password}}",
                      "type": "text",
                      "description": "Konfirmasi password"
                    },
                    {
                      "key": "stallName",
                      "value": "{{stall_name}}",
                      "type": "text",
                      "description": "Nama warung"
                    },
                    {
                      "key": "stallDescription",
                      "value": "{{stall_description}}",
                      "type": "text",
                      "description": "Deskripsi warung"
                    },
                    {
                      "key": "stallCategory",
                      "value": "{{stall_category}}",
                      "type": "text",
                      "description": "Kategori warung"
                    },
                    {
                      "key": "stallImage",
                      "type": "file",
                      "src": [],
                      "description": "Gambar warung (JPG, PNG, WebP, max 5MB) - REQUIRED"
                    },
                    {
                      "key": "qrisImage",
                      "type": "file",
                      "src": [],
                      "description": "Gambar QRIS pembayaran (JPG, PNG, WebP, max 5MB) - REQUIRED"
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/auth/register-stall-owner",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "register-stall-owner"]
                },
                "description": "**Admin only**: Register pemilik warung + buat stall sekaligus.\n\nFiles:\n- stallImage (required): Foto warung\n- qrisImage (required): Foto QRIS pembayaran\n\nOutput:\n- User account (stall_owner role)\n- Stall data\n- Username & password untuk dikasih ke pemilik warung"
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Stall Owner Endpoints",
      "description": "Endpoints untuk Pemilik Warung (Seamless - No ID!)",
      "item": [
        {
          "name": "Auth",
          "item": [
            {
              "name": "Login Stall Owner",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "if (jsonData.success && jsonData.data && jsonData.data.token) {",
                      "    pm.environment.set(\"owner_token\", jsonData.data.token);",
                      "    console.log(\"Owner token saved\");",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"identifier\": \"{{owner_email}}\",\n  \"password\": \"{{owner_password}}\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/login",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "login"]
                },
                "description": "Login sebagai pemilik warung. Token auto-saved ke `{{owner_token}}`"
              },
              "response": []
            },
            {
              "name": "Logout Stall Owner",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/auth/logout",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "logout"]
                }
              },
              "response": []
            },
            {
              "name": "Check Authentication",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/auth/check",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "check"]
                },
                "description": "**GET /auth/check - Check Authentication**\\n\\nSimple endpoint untuk cek apakah stall owner masih authenticated atau tidak.\\n\\n**Response jika token valid (200 OK):**\\n```json\\n{\\n  \\\"success\\\": true,\\n  \\\"statusCode\\\": 200,\\n  \\\"message\\\": \\\"Authenticated\\\",\\n  \\\"data\\\": {\\n    \\\"authenticated\\\": true\\n  }\\n}\\n```\\n\\n**Response jika token invalid (401 Unauthorized):**\\n```json\\n{\\n  \\\"success\\\": false,\\n  \\\"statusCode\\\": 401,\\n  \\\"message\\\": \\\"Token invalid atau expired\\\"\\n}\\n```\\n\\n**Use Case:**\\n- Cek token masih valid sebelum request lain\\n- Auto-logout jika token expired\\n- Validasi session di dashboard stall owner\\n\\n**Note:** Endpoint ini tidak mengembalikan data user, hanya status authenticated."
              },
              "response": []
            }
          ]
        },
        {
          "name": "My Stall (Seamless)",
          "item": [
            {
              "name": "Get My Stall",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall"]
                },
                "description": "**Seamless!** Get warung milik sendiri tanpa perlu ID."
              },
              "response": []
            },
            {
              "name": "Update My Stall",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "name",
                      "value": "Warung Bu Siti (Updated)",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "description",
                      "value": "Deskripsi baru untuk warung saya",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "category",
                      "value": "Fast Food",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "image",
                      "type": "file",
                      "src": [],
                      "description": "Gambar warung baru (optional)",
                      "disabled": true
                    },
                    {
                      "key": "qrisImage",
                      "type": "file",
                      "src": [],
                      "description": "Gambar QRIS pembayaran baru (optional)",
                      "disabled": true
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall"]
                },
                "description": "**Seamless!** Update warung tanpa ID. Semua field optional.\n\nFiles:\n- image (optional): Foto warung baru\n- qrisImage (optional): Foto QRIS pembayaran baru"
              },
              "response": []
            },
            {
              "name": "Delete My Stall",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall"]
                },
                "description": "**Seamless!** Delete warung tanpa ID.\n\n**WARNING:** Data & gambar dihapus permanen!"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Menu Management",
          "item": [
            {
              "name": "Create Menu Item",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "name",
                      "value": "Nasi Goreng Special",
                      "type": "text"
                    },
                    {
                      "key": "description",
                      "value": "Nasi goreng dengan telur, ayam, dan sayuran segar",
                      "type": "text"
                    },
                    {
                      "key": "price",
                      "value": "15000",
                      "type": "text"
                    },
                    {
                      "key": "isAvailable",
                      "value": "true",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "image",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall/menu-items",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall", "menu-items"]
                },
                "description": "**POST /stalls/my-stall/menu-items - Create Menu Item**\\n\\n**Required:**\\n- `name`: Nama menu (3-100 karakter)\\n- `description`: Deskripsi menu (10-500 karakter)\\n- `price`: Harga (100-1.000.000, integer)\\n- `image`: File gambar menu (JPG/PNG/WebP, max 5MB)\\n\\n**Optional:**\\n- `isAvailable`: Status ketersediaan (default: true)\\n\\n**Response:**\\nMenu item yang baru dibuat dengan imageUrl dari Firebase Storage"
              },
              "response": []
            },
            {
              "name": "Get My Menu Items",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall/menu-items",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall", "menu-items"]
                },
                "description": "**GET /stalls/my-stall/menu-items - List Menu Items**\\n\\nGet semua menu items dari warung sendiri.\\n\\n**Response:**\\nArray of menu items, sorted by createdAt descending"
              },
              "response": []
            },
            {
              "name": "Get Single Menu Item",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall/menu-items/{{menu_item_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall", "menu-items", "{{menu_item_id}}"]
                },
                "description": "**GET /stalls/my-stall/menu-items/:id - Get Single Menu Item**\\n\\nGet detail menu item by ID.\\n\\n**Note:** Akan verify ownership otomatis"
              },
              "response": []
            },
            {
              "name": "Update Menu Item",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "name",
                      "value": "Nasi Goreng Special (Updated)",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "description",
                      "value": "Deskripsi yang diupdate",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "price",
                      "value": "18000",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "isAvailable",
                      "value": "false",
                      "type": "text",
                      "disabled": true
                    },
                    {
                      "key": "image",
                      "type": "file",
                      "src": [],
                      "disabled": true
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall/menu-items/{{menu_item_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall", "menu-items", "{{menu_item_id}}"]
                },
                "description": "**PATCH /stalls/my-stall/menu-items/:id - Update Menu Item**\\n\\n**All fields optional:**\\n- `name`: Nama menu baru\\n- `description`: Deskripsi baru\\n- `price`: Harga baru\\n- `isAvailable`: Status ketersediaan\\n- `image`: Gambar baru (akan hapus gambar lama)\\n\\n**Note:** Jika upload image baru, gambar lama akan dihapus otomatis"
              },
              "response": []
            },
            {
              "name": "Delete Menu Item",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/stalls/my-stall/menu-items/{{menu_item_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["stalls", "my-stall", "menu-items", "{{menu_item_id}}"]
                },
                "description": "**DELETE /stalls/my-stall/menu-items/:id - Delete Menu Item**\\n\\nHapus menu item dari warung sendiri.\\n\\n**WARNING:**\\n- Data menu dihapus permanen\\n- Gambar juga dihapus dari Storage\\n- Tidak bisa di-restore!"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Order Management",
          "item": [
            {
              "name": "List Incoming Orders",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders/my-stall/orders?page=1&limit=10&status=waiting_confirmation",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "my-stall", "orders"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "status",
                      "value": "waiting_confirmation",
                      "description": "Filter by status"
                    }
                  ]
                },
                "description": "**GET /orders/my-stall/orders - List Incoming Orders**\\n\\nLihat pesanan yang masuk ke warung.\\n\\n**Query Parameters:**\\n- `status`: Filter status\\n  - `waiting_confirmation` - Nunggu owner validasi bukti bayar\\n  - `processing` - Pesanan sedang dibuat\\n  - `ready` - Pesanan siap diambil/dikirim\\n  - `completed` - Pesanan selesai\\n  - `rejected` - Pembayaran ditolak\\n- `page`: Page number\\n- `limit`: Items per page\\n\\n**Use Case:**\\n- Cek pesanan baru yang butuh konfirmasi: `?status=waiting_confirmation`\\n- Cek pesanan yang sedang diproses: `?status=processing`\\n- Cek pesanan yang siap: `?status=ready`\\n- Cek history selesai: `?status=completed`\\n\\n**NEW WORKFLOW:**\\n1. User checkout → `waiting_confirmation`\\n2. Owner confirm → `processing` (mulai buat pesanan)\\n3. Owner mark ready → `ready` (pesanan jadi)\\n4. Owner complete → `completed` (sudah diambil/diterima)"
              },
              "response": []
            },
            {
              "name": "Get Order Detail",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders/my-stall/orders/{{order_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "my-stall", "orders", "{{order_id}}"]
                },
                "description": "**GET /orders/my-stall/orders/:orderId - Detail Order**\\n\\nLihat detail pesanan spesifik dari pembeli, termasuk:\\n- Username pembeli (snapshot)\\n- Items yang dipesan\\n- Bukti pembayaran\\n- Status pesanan\\n\\n**Response:**\\n```json\\n{\\n  \\\"id\\\": \\\"...\\\",\\n  \\\"username\\\": \\\"johndoe\\\",\\n  \\\"stallId\\\": \\\"...\\\",\\n  \\\"stallName\\\": \\\"Warung Bu Siti\\\",\\n  \\\"stallImageUrl\\\": \\\"https://...\\\",\\n  \\\"items\\\": [\\n    {\\n      \\\"menuItemId\\\": \\\"...\\\",\\n      \\\"name\\\": \\\"Nasi Goreng Special\\\",\\n      \\\"price\\\": 15000,\\n      \\\"imageUrl\\\": \\\"https://...\\\",\\n      \\\"quantity\\\": 1,\\n      \\\"subtotal\\\": 15000\\n    }\\n  ],\\n  \\\"itemsTotal\\\": 15000,\\n  \\\"appFee\\\": 1000,\\n  \\\"deliveryMethod\\\": \\\"delivery\\\",\\n  \\\"deliveryFee\\\": 5000,\\n  \\\"totalPrice\\\": 21000,\\n  \\\"paymentProofUrl\\\": \\\"https://...\\\",\\n  \\\"status\\\": \\\"waiting_confirmation\\\",\\n  \\\"rejectionReason\\\": null,\\n  \\\"isReviewed\\\": false,\\n  \\\"createdAt\\\": \\\"2025-12-10T05:01:39.065Z\\\",\\n  \\\"updatedAt\\\": \\\"2025-12-10T05:01:39.065Z\\\"\\n}\\n```\\n\\n**Use Case:**\\nOwner cek detail pesanan untuk validasi bukti pembayaran."
              },
              "response": []
            },
            {
              "name": "Confirm Payment",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders/my-stall/orders/{{order_id}}/confirm",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "my-stall", "orders", "{{order_id}}", "confirm"]
                },
                "description": "**PATCH /orders/my-stall/orders/:orderId/confirm - Konfirmasi Pembayaran**\\n\\n**Syarat:** Status order harus `waiting_confirmation`\\n\\n**Effect:** Status berubah jadi `processing` (pesanan mulai dibuat).\\n\\n**Use Case:** Owner sudah cek mutasi rekening dan uang sudah masuk. Owner mulai menyiapkan pesanan.\\n\\n**NEW STATUS FLOW:**\\n1. `waiting_confirmation` → Owner cek bukti bayar\\n2. `processing` (setelah confirm) → Owner sedang buat pesanan\\n3. `ready` (setelah mark ready) → Pesanan jadi, siap diambil/dikirim\\n4. `completed` (setelah complete) → Pesanan sudah sampai/diambil"
              },
              "response": []
            },
            {
              "name": "Reject Payment",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"Bukti transfer tidak terbaca / buram. Mohon upload ulang.\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/orders/my-stall/orders/{{order_id}}/reject",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "my-stall", "orders", "{{order_id}}", "reject"]
                },
                "description": "**PATCH /orders/my-stall/orders/:orderId/reject - Tolak Pembayaran**\\n\\n**Body:**\\n- `reason`: Alasan penolakan (required, 10-500 chars)\\n\\n**Syarat:** Status order harus `waiting_confirmation`\\n\\n**Effect:** Status berubah jadi `rejected`.\\n\\n**Use Case:** Uang belum masuk, bukti palsu, atau bukti buram."
              },
              "response": []
            },
            {
              "name": "Mark Order Ready",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders/my-stall/orders/{{order_id}}/ready",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "my-stall", "orders", "{{order_id}}", "ready"]
                },
                "description": "**PATCH /orders/my-stall/orders/:orderId/ready - Tandai Pesanan Siap**\\n\\n**NEW ENDPOINT!**\\n\\n**Syarat:** Status order harus `processing`\\n\\n**Effect:** Status berubah jadi `ready`.\\n\\n**Use Case:** Pesanan sudah jadi/siap. Untuk:\\n- Pickup: Pesanan siap diambil user\\n- Delivery: Pesanan siap dikirim (atau sedang dalam perjalanan)\\n\\n**Note:** Setelah ready, owner harus complete setelah pesanan diambil/diterima user."
              },
              "response": []
            },
            {
              "name": "Complete Order",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/orders/my-stall/orders/{{order_id}}/complete",
                  "host": ["{{base_url}}"],
                  "path": ["orders", "my-stall", "orders", "{{order_id}}", "complete"]
                },
                "description": "**PATCH /orders/my-stall/orders/:orderId/complete - Selesaikan Pesanan**\\n\\n**Syarat:** Status order harus `ready`\\n\\n**Effect:** Status berubah jadi `completed`.\\n\\n**Use Case:** \\n- Pickup: User sudah mengambil pesanan\\n- Delivery: Pesanan sudah sampai/diterima user\\n\\n**After Completed:** User bisa submit review untuk order ini."
              },
              "response": []
            }
          ]
        },
        {
          "name": "Reviews",
          "item": [
            {
              "name": "Get My Stall's Reviews",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{owner_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/reviews/my-stall/reviews?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
                  "host": ["{{base_url}}"],
                  "path": ["reviews", "my-stall", "reviews"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "rating",
                      "value": "5",
                      "description": "Filter by rating (1-5)",
                      "disabled": true
                    },
                    {
                      "key": "sortBy",
                      "value": "createdAt",
                      "description": "createdAt or rating"
                    },
                    {
                      "key": "sortOrder",
                      "value": "desc",
                      "description": "asc or desc"
                    }
                  ]
                },
                "description": "**GET /reviews/my-stall/reviews - Get My Stall's Reviews**\\n\\n**Query Parameters:**\\n- `rating` (optional): Filter by rating (1-5)\\n- `page` (default: 1): Page number\\n- `limit` (default: 10, max: 100): Items per page\\n- `sortBy` (default: createdAt): Sort field (createdAt, rating)\\n- `sortOrder` (default: desc): Sort order (asc, desc)\\n\\n**Use Case:**\\nStall owner melihat semua review untuk warung mereka\\n\\n**Response:**\\nList of reviews dengan pagination meta"
              },
              "response": []
            }
          ]
        }
      ]
    }
  ]
}
